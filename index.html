<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Reels Editor - Replay Mode</title>
<style>
    body { margin: 0; background: #000; color: white; font-family: sans-serif; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
    canvas { background: #808080; max-height: 95vh; max-width: 100vw; aspect-ratio: 9/16; }
    .ui { position: absolute; bottom: 20px; display: flex; gap: 10px; z-index: 100; transition: opacity 0.3s; }
    button { padding: 15px 25px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; font-size: 16px; }
    #playBtn { background: #2563eb; color: white; }
    #fullBtn { background: #334155; color: white; }
    .hidden { opacity: 0; pointer-events: none; }
</style>
</head>
<body>

    <canvas id="canvas" width="1080" height="1920"></canvas>
    
    <div class="ui" id="controls">
        <button id="fullBtn">üî≤ Fullscreen</button>
        <button id="playBtn">‚ñ∂Ô∏è Play Animasi</button>
    </div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
const playBtn = document.getElementById('playBtn');
const fullBtn = document.getElementById('fullBtn');
const controls = document.getElementById('controls');

// --- LOGIKA ANIMASI (KEMBALI KE STYLE ASLI ANDA) ---
function drawFrame(t) {
    ctx.fillStyle = '#808080';
    ctx.fillRect(0, 0, 1080, 1920);

    // Animasi Wipe Judul
    let p = Math.min(1, t / 1.5);
    let ease = p * (2 - p); 
    
    ctx.save();
    ctx.beginPath();
    ctx.rect(0, 0, 110 + (860 * ease), 1920);
    ctx.clip();
    
    ctx.fillStyle = "white";
    ctx.font = "bold 90px sans-serif";
    ctx.fillText("JUDUL MULUS", 110, 1300);
    ctx.restore();

    // Animasi Highlight
    if (t > 1.8) {
        let hP = Math.min(1, (t - 1.8) / 0.8);
        ctx.fillStyle = "rgba(0,136,216,0.6)";
        ctx.fillRect(110, 1400, 500 * hP, 80);
        ctx.fillStyle = "white";
        ctx.font = "bold 50px sans-serif";
        ctx.fillText("Highlight Tanpa Patah", 110, 1460);
    }
}

// --- LOGIKA KONTROL ---
let isPlaying = false;
let startTS = 0;

function animate(now) {
    if (!isPlaying) return;
    if (!startTS) startTS = now;
    
    let elapsed = (now - startTS) / 1000;
    drawFrame(elapsed);
    
    if (elapsed < 10) { // Durasi 10 detik
        requestAnimationFrame(animate);
    } else {
        isPlaying = false;
        controls.classList.remove('hidden');
        startTS = 0;
    }
}

playBtn.onclick = () => {
    isPlaying = true;
    controls.classList.add('hidden'); // Sembunyikan tombol saat main
    requestAnimationFrame(animate);
};

fullBtn.onclick = () => {
    if (canvas.requestFullscreen) canvas.requestFullscreen();
    else if (canvas.webkitRequestFullscreen) canvas.webkitRequestFullscreen();
};

// Gambar frame pertama
drawFrame(0);
</script>
</body>
</html>
