<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Reels Pro - Theater Mode</title>
<style>
    body { margin: 0; background: #000; color: white; font-family: sans-serif; overflow: hidden; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; }
    canvas { background: #808080; max-height: 98vh; max-width: 100vw; aspect-ratio: 9/16; display: block; }
    .ui-layer { position: absolute; bottom: 30px; display: flex; gap: 15px; z-index: 100; transition: opacity 0.5s; }
    .editor { position: absolute; top: 20px; left: 20px; background: rgba(15,23,42,0.9); padding: 15px; border-radius: 12px; border: 1px solid #334155; width: 280px; z-index: 101; }
    textarea { width: 100%; background: #020617; color: white; border: 1px solid #444; padding: 8px; border-radius: 6px; margin-top: 5px; }
    button { padding: 12px 24px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; }
    .btn-play { background: #2563eb; color: white; }
    .btn-full { background: #475569; color: white; }
    .hide-ui .ui-layer, .hide-ui .editor { opacity: 0; pointer-events: none; }
</style>
</head>
<body>

<div class="editor" id="editor">
    <label style="font-size: 12px;">Edit Teks:</label>
    <textarea id="txt">Fokus pada [[satu hal]] agar gerakan mulus 100%.</textarea>
</div>

<canvas id="canvas" width="1080" height="1920"></canvas>

<div class="ui-layer" id="ui">
    <button class="btn-full" id="fullBtn">üî≤ Masuk Fullscreen</button>
    <button class="btn-play" id="playBtn">‚ñ∂Ô∏è Mulai Animasi (Rekam Layar)</button>
</div>

<script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
let startTime = 0;
let isPlaying = false;

function draw(t) {
    ctx.fillStyle = '#808080';
    ctx.fillRect(0, 0, 1080, 1920);

    // Animasi Text
    let p = Math.min(1, t / 1.5);
    let ease = p * (2 - p);
    
    ctx.save();
    ctx.beginPath();
    ctx.rect(0, 0, 110 + (860 * ease), 1920);
    ctx.clip();
    
    ctx.fillStyle = "white";
    ctx.font = "bold 80px sans-serif";
    ctx.fillText("PRO REELS MODE", 110, 1300);

    if (t > 1.6) {
        let hp = Math.min(1, (t-1.6)/0.8);
        ctx.fillStyle = "rgba(0,136,216,0.6)";
        ctx.fillRect(110, 1330, 600 * hp, 90);
    }
    ctx.restore();
}

function loop(now) {
    if(!isPlaying) return;
    if(!startTime) startTime = now;
    let elapsed = (now - startTime) / 1000;
    
    draw(elapsed);
    
    if(elapsed < 10) requestAnimationFrame(loop);
    else {
        isPlaying = false;
        document.body.classList.remove('hide-ui');
        startTime = 0;
    }
}

document.getElementById('playBtn').onclick = () => {
    isPlaying = true;
    document.body.classList.add('hide-ui'); // Sembunyikan semua tombol
    requestAnimationFrame(loop);
};

document.getElementById('fullBtn').onclick = () => {
    if (canvas.requestFullscreen) canvas.requestFullscreen();
    else if (canvas.webkitRequestFullscreen) canvas.webkitRequestFullscreen();
};

// Munculkan kembali UI jika canvas diketuk
canvas.onclick = () => {
    document.body.classList.remove('hide-ui');
};

draw(0);
</script>
</body>
</html>
